{"version":3,"file":"commonHelpers.js","sources":["../src/js/notifications.js","../src/js/render.js","../src/js/download.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst octagonIconUrl = new URL('../img/octagon.svg', import.meta.url).href;\nconst closeIconUrl = new URL('../img/x.svg', import.meta.url).href;\n\nexport function createMessage(textMessage = '') {\n  iziToast.show({\n    // title: 'Error',\n    titleColor: '#FFF',\n    titleSize: '16px',\n    message: textMessage,\n    messageColor: '#FFF',\n    messageSize: '16px',\n    maxWidth: '462px',\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    iconUrl: octagonIconUrl,\n    progressBarColor: '#FFBEBE',\n    timeout: 5000,\n    targetFirst: false,\n    close: false,\n    buttons: [\n      [\n        `<button type=\"button\" id=\"izi-close-button\">\n                 <img src=\"${closeIconUrl}\" alt=\"\" width=\"16px\" height=\"16px\" />\n              </button>`,\n        function (instance, toast) {\n          instance.hide({}, toast, 'buttonName');\n        },\n      ],\n    ],\n  });\n\n  // div самого вікна\n  let messageElement = document.querySelector('.iziToast.fadeInUp');\n  messageElement.style.paddingTop = '20px';\n  messageElement.style.paddingBottom = '20px';\n\n  // текст помилки\n  messageElement = document.querySelector(\n    '.iziToast>.iziToast-body .iziToast-texts'\n  );\n  messageElement.style.maxWidth = '322px';\n}\n","import { createMessage } from './notifications';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\n\nexport const gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n});\n\nexport function renderImages(images) {\n  if (images.hits.length === 0) {\n    createMessage(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  const galleryHTML = images.hits.reduce((acc, imageEl) => {\n    return (acc += `\n        <a class=\"gallery-link\" href=\"${imageEl.largeImageURL}\">\n          <img\n              class=\"gallery-image\"\n              src=\"${imageEl.webformatURL}\"\n              alt=\"${imageEl.tags}\"\n          />\n          <ul class=\"property-list\">\n            <li class=\"property-item\">\n                <p class=\"property-title\">Likes</p>\n                <p class=\"property-value\">${imageEl.likes}</p>\n            </li>\n            <li class=\"property-item\">\n                <p class=\"property-title\">Views</p>\n                <p class=\"property-value\">${imageEl.views}</p>\n            </li>\n            <li class=\"property-item\">\n                <p class=\"property-title\">Comments</p>\n                <p class=\"property-value\">${imageEl.comments}</p>\n            </li>\n            <li class=\"property-item\">\n                <p class=\"property-title\">Downloads</p>\n                <p class=\"property-value\">${imageEl.downloads}</p>\n            </li>\n          </ul>  \n          </a>`);\n  }, '');\n\n  galleryEl.insertAdjacentHTML('beforeend', galleryHTML);\n  gallery.refresh();\n}\n","import { renderImages } from './render';\nimport { createMessage } from './notifications';\n\nconst searchParamsObject = {\n  key: '41895338-dd09ccecf51e6c3f0d3351286',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nconst buttonEl = document.querySelector('.search-btn');\nconst loadingTextEl = document.querySelector('.loading-message');\n\nexport function downloadImages(searchKey) {\n  loadingTextEl.style.display = 'block';\n  buttonEl.disabled = true;\n  buttonEl.blur();\n\n  // // add this timeout to demostate css-loader\n  // setTimeout(() => {\n  fetchImages(searchKey)\n    .then(images => renderImages(images))\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loadingTextEl.style.display = 'none';\n      buttonEl.disabled = false;\n    });\n  // }, 2500);\n}\n\nfunction fetchImages(searchText) {\n  searchParamsObject.q = searchText;\n  const searchParams = new URLSearchParams(searchParamsObject);\n\n  setTimeout(() => {}, 5000);\n  return fetch(`https://pixabay.com/api/?${searchParams.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => createMessage(error));\n}\n","import { createMessage } from './js/notifications';\nimport { downloadImages } from './js/download';\n\nconst formEl = document.querySelector('.search-form');\n\ndocument.querySelector('.loading-message').style.display = 'none';\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  let searchKey = formEl.elements.search.value.trim();\n  if (!searchKey) {\n    createMessage('Search must be filled!');\n    return;\n  }\n  formEl.reset();\n\n  downloadImages(searchKey);\n});\n"],"names":["octagonIconUrl","closeIconUrl","createMessage","textMessage","iziToast","instance","toast","messageElement","galleryEl","gallery","SimpleLightbox","renderImages","images","galleryHTML","acc","imageEl","searchParamsObject","buttonEl","loadingTextEl","downloadImages","searchKey","fetchImages","error","searchText","searchParams","response","formEl","event"],"mappings":"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"}